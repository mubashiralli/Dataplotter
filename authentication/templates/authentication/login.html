{% load static %}
{% load crispy_forms_tags %}
<!doctype html>
<html lang="en">

    <head>
        
        <meta charset="utf-8" />
        <title>Login</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
        <meta content="Themesdesign" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="{% static 'img/favicon2.ico'%}" type="image/x-icon">

        <!-- Bootstrap Css -->
        <link href="{% static 'css/bootstrap.min.css' %}" id="bootstrap-style" rel="stylesheet" type="text/css" />
        <!-- Icons Css -->
        <link href="{% static 'css/icons.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- App Css-->
        <link href="{% static 'css/app.min.css' %}" id="app-style" rel="stylesheet" type="text/css" />

    </head>

    <style>
        .spinner{
            position: fixed;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            background: rgba(0,0,0,.3);
            z-index: 9999999;
        }
        .fa-spinner{
            top: 49%;
            position: absolute;
        }
    </style>

    <body class="auth-body-bg">
        <div>
            <div class="container-fluid p-0">
                <div class="row g-0">
                    <div class="col-lg-4">
                        <div class="authentication-page-content p-4 d-flex align-items-center min-vh-100">
                            <div class="w-100">
                                <div class="row justify-content-center">
                                    <div class="col-lg-9">
                                        <div>
                                            <div class="text-center">
                                                <div>
                                                    <a href="" class="mt-2">
                                                        <img src="{% static 'img/wmc-logo-1-onwhite.png' %}" alt="" class="auth-logo logo-dark mx-auto">
                                                        <img src="{% static 'images/logo-light.png' %}" alt="" class="auth-logo logo-light mx-auto">
                                                    </a>
                                                </div>
                                                <h4 class="font-size-18 mt-4">Welcome Back!</h4>
                                            </div>
                                            <div class="p-2">
                                                <form class="form-control" method="POST" action="{% url 'login' %}" >
                                                    <input type="hidden" name="next_route" value="{{next}}">
                                                    {% csrf_token %}
                                                    {% for message in messages %}
                                                    <div class="alert {{ message.tags }} mb-4" role="alert">
                                                        <strong>{{ message }}</strong>
                                                    </div>
                                                    {% endfor %}                                                 
                                                    <div class="mb-3" id='err-msg' hidden>
                                                        <strong id="msg_err"></strong>
                                                    </div>
                                                    <div class="mb-3 auth-form-group-custom">
                                                        <i class="ri-user-2-line auti-custom-input-icon"></i>
                                    
                
                                                        {{ form.username|as_crispy_field }}
                                                    </div>
                            
                                                    <div class="mb-3 auth-form-group-custom">
                                                        <i class="ri-lock-2-line auti-custom-input-icon"></i>
                                                        {{ form.password|as_crispy_field }}
                                                        
                                                    </div>
                            
                                                    <div class="form-check">
                                                        <input type="checkbox" class="form-check-input" id="customControlInline">
                                                        <label class="form-check-label" for="customControlInline">Remember me</label>
                                                    </div>

                                                    <div class="spinner text-center d-none">
                                                        <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>
                                                    </div>

                                                    <div class="mt-4 text-center">
                                                        <input class="btn btn-primary w-md waves-effect waves-light" type="submit" value="Login">
                                                    </div>

                                                    <div class="mt-4 text-center">
                                                        <a href="{percentage_url 'auth-recoverpw'%}" class="text-muted"><i class="mdi mdi-lock me-1"></i> Forgot your password?</a>
                                                    </div>
                                                </form>
                                            </div>

                                            <div class="mt-3 text-center">
                                                <p>Don't have an account ? <a href="{% url 'signup' %}" class="fw-medium text-primary"> Register </a> </p>
                                                <p>Â© Watchmycompetitor.com Ltd <script>document.write(new Date().getFullYear())</script></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="authentication-bg" style="height: 100vh; background-size: cover; background-position: center;">
                            <img src="{% static 'images/login_banner.png' %}" alt="">
                        </div>
                            <div class="bg-overlay"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="{% static 'libs/jquery/jquery.min.js' %}"></script>
        <script src="{% static 'libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
        <script src="{% static 'libs/metismenu/metisMenu.min.js' %}"></script>
        <script src="{% static 'libs/simplebar/simplebar.min.js' %}"></script>
        <script src="{% static 'libs/node-waves/waves.min.js' %}"></script>

        <script src="{% static 'js/app.js' %}"></script>

    </body>
</html>
